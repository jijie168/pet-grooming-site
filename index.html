<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Red Dolphin Pet Grooming</title>
  <meta name="description" content="Pet grooming services with pricing, booking, live chat, SMS and maps." />

  <style>
    :root{
      --bg:#0b1220;
      --card:#121a2b;
      --text:#e9eefc;
      --muted:#a8b3d6;
      --line:rgba(255,255,255,.12);
      --blue:#2b6cff;
      --green:#22c55e;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
      --max: 1080px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:linear-gradient(180deg,#0b1220,#070b14);color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"Noto Sans",sans-serif}
    a{color:inherit}
    .wrap{max-width:var(--max);margin:0 auto;padding:24px}

    /* Top Nav */
    .nav{
      position:sticky;top:0;z-index:20;
      backdrop-filter: blur(10px);
      background:rgba(7,11,20,.6);
      border-bottom:1px solid var(--line);
    }
    .nav-inner{max-width:var(--max);margin:0 auto;padding:12px 24px;display:flex;gap:14px;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800;letter-spacing:.2px}
    .dot{width:10px;height:10px;border-radius:99px;background:var(--green);box-shadow:0 0 0 6px rgba(34,197,94,.12)}
    .menu{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    .menu a{padding:8px 10px;border-radius:10px;color:var(--muted);text-decoration:none;border:1px solid transparent}
    .menu a:hover{color:var(--text);border-color:var(--line);background:rgba(255,255,255,.04)}

    /* Cards */
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }
    h1{margin:0 0 10px;font-size:34px;line-height:1.1}
    h2{margin:0 0 10px;font-size:22px}
    .sub{color:var(--muted);line-height:1.5}
    .section{padding:14px 0}
    .hero{padding:22px 0 12px}
    .hero-grid{display:grid;grid-template-columns:1.15fr .85fr;gap:18px}
    @media (max-width:900px){.hero-grid{grid-template-columns:1fr}}

    /* Buttons */
    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
      padding:10px 12px;border-radius:12px;border:1px solid transparent;
      text-decoration:none;font-weight:700;cursor:pointer
    }
    .btn.blue{background:var(--blue);border-color:rgba(43,108,255,.5)}
    .btn.green{background:var(--green);border-color:rgba(34,197,94,.5);color:#05210f}
    .btn.ghost{background:rgba(255,255,255,.04);border-color:var(--line);color:var(--text)}
    .small{font-size:12px;color:var(--muted)}

    /* Price table - optimized */
    .table-wrap{overflow:auto;border-radius:14px;border:1px solid var(--line)}
    table{width:100%;border-collapse:collapse;min-width:760px;background:rgba(0,0,0,.12)}
    th,td{padding:10px 10px;border-bottom:1px solid var(--line);font-size:14px;text-align:left;vertical-align:middle}
    th{background:rgba(255,255,255,.04);color:#dbe4ff;position:sticky;top:0}
    tr:last-child td{border-bottom:none}

    .price-cell{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
    }
    .price{
      font-weight:800;
      white-space:nowrap;
    }
    .book-mini{
      padding:7px 10px;border-radius:10px;border:1px solid var(--line);
      background:rgba(255,255,255,.04);color:var(--text);cursor:pointer;font-weight:700
    }
    .book-mini:hover{border-color:rgba(43,108,255,.6);background:rgba(43,108,255,.12)}

    /* Form */
    label{display:block;font-size:13px;color:#dbe4ff;margin:8px 0 6px}
    input,select,textarea{
      width:100%;padding:10px 10px;border-radius:12px;
      border:1px solid var(--line);background:rgba(0,0,0,.25);color:var(--text)
    }
    textarea{min-height:92px;resize:vertical}
    .form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:700px){.form-row{grid-template-columns:1fr}}
    .map-wrap{border-radius:16px;overflow:hidden;border:1px solid var(--line);box-shadow:var(--shadow)}
    iframe{display:block;width:100%;height:340px;border:0}

    /* Floating quick buttons */
    .fab{
      position:fixed;right:16px;bottom:18px;display:flex;flex-direction:column;gap:10px;z-index:50
    }
    .fab a{
      display:inline-flex;align-items:center;gap:10px;
      background:rgba(18,26,43,.92);border:1px solid var(--line);
      padding:10px 12px;border-radius:999px;text-decoration:none;color:var(--text);
      box-shadow:var(--shadow)
    }
  </style>
</head>

<body>
  <div class="nav">
    <div class="nav-inner">
      <div class="brand">
        <span class="dot"></span>
        <span>Red Dolphin Pet Grooming</span>
      </div>
      <div class="menu">
        <a href="#prices">Prices</a>
        <a href="#book">Book Now</a>
        <a href="#location">Location</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="hero">
      <div class="hero-grid">
        <div class="card">
          <h1>Professional Pet Grooming Services</h1>
          <div class="sub">
            Address: <b>1680 E Broadway Suite E, Chula Vista, CA</b><br/>
            Phone: <b>(619) 754-0193</b>
          </div>
          <div class="row">
            <a class="btn green" href="tel:+16197540193">üìû Call</a>
            <a class="btn blue" href="sms:+16197540193?&body=Hi%20I%20would%20like%20to%20book%20pet%20grooming.">üí¨ SMS</a>
            <a class="btn ghost" href="#book">üìÖ Book Now</a>
          </div>
          <div class="small" style="margin-top:10px">
            Tip: Click a ‚ÄúBook‚Äù button in the price table to auto-fill the booking form.
          </div>
        </div>

        <div class="card">
          <h2 style="margin-top:0">How booking works</h2>
          <div class="sub">
            After you submit: <b>(1)</b> it opens SMS with booking details, and <b>(2)</b> sends the same details to <b>Tawk</b> as a chat message for your customer service.
          </div>
          <div class="row">
            <button class="btn blue" type="button" onclick="scrollToId('prices')">View Prices</button>
            <button class="btn ghost" type="button" onclick="scrollToId('book')">Go to Form</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Prices -->
    <div class="section" id="prices">
      <h2>Prices</h2>
      <div class="sub">Optimized table layout (weight on the left, three coat options, each has its own Book button).</div>

      <div class="card" style="margin-top:12px">
        <h2>Bath & Brush</h2>
        <div class="small">Dogs by weight and coat length ‚Ä¢ Cats available</div>
        <div class="table-wrap" style="margin-top:10px">
          <table>
            <thead>
              <tr>
                <th style="width:22%">Weight</th>
                <th>&lt; 1/2 inch</th>
                <th>&lt; 1/2 inch+</th>
                <th>1 inch+</th>
              </tr>
            </thead>
            <tbody id="bathTable"></tbody>
          </table>
        </div>
        <p class="small" style="margin-top:10px">
          Includes: nails, paw hair, conditioning, ears, and anal glands.
        </p>
      </div>

      <div class="card">
        <h2>Full Grooming</h2>
        <div class="small">Dogs by weight and coat length ‚Ä¢ Cats available</div>
        <div class="table-wrap" style="margin-top:10px">
          <table>
            <thead>
              <tr>
                <th style="width:22%">Weight</th>
                <th>&lt; 1/2 inch</th>
                <th>&lt; 1/2 inch+</th>
                <th>1 inch+</th>
              </tr>
            </thead>
            <tbody id="fullTable"></tbody>
          </table>
        </div>
        <p class="small" style="margin-top:10px">
          Includes: hair trimming, brushing, nail trimming, paw hair removal, conditioning, facial cleaning, ear cleaning, and anal gland cleaning.
        </p>
      </div>
    </div>

    <!-- Booking -->
    <div class="section" id="book">
      <h2>Book Now</h2>
      <div class="sub">Pick a price first (Book button), then fill customer details and submit.</div>

      <div class="card" style="margin-top:12px">
        <div class="form-row">
          <div>
            <label>Your Name</label>
            <input id="name" placeholder="Name" />
          </div>
          <div>
            <label>Your Phone</label>
            <input id="phone" placeholder="(xxx) xxx-xxxx" />
          </div>
        </div>

        <div class="form-row">
          <div>
            <label>Pet Type</label>
            <select id="pet">
              <option value="Dog">Dog</option>
              <option value="Cat">Cat</option>
            </select>
          </div>
          <div>
            <label>Service</label>
            <input id="service" placeholder="Auto-filled from price table" />
          </div>
        </div>

        <div class="form-row">
          <div>
            <label>Weight / Size</label>
            <input id="weight" placeholder="Auto-filled from price table" />
          </div>
          <div>
            <label>Coat Length</label>
            <input id="coat" placeholder="Auto-filled from price table" />
          </div>
        </div>

        <div class="form-row">
          <div>
            <label>Price</label>
            <input id="price" placeholder="$0" />
          </div>
          <div>
            <label>Preferred Date</label>
            <input id="date" type="date" />
          </div>
        </div>

        <div class="form-row">
          <div>
            <label>Preferred Time</label>
            <input id="time" type="time" />
          </div>
          <div>
            <label>Notes</label>
            <textarea id="note" placeholder="Breed, temperament, special requests..."></textarea>
          </div>
        </div>

        <div class="row">
          <button class="btn blue" type="button" onclick="sendBooking()">Submit Booking</button>
          <button class="btn ghost" type="button" onclick="clearForm()">Clear</button>
        </div>

        <div class="small" style="margin-top:10px">
          Submitting will: (1) open SMS with booking details, and (2) send the same details to Tawk as a chat message.
        </div>
      </div>
    </div>

    <!-- Location -->
    <div class="section" id="location">
      <h2>Location</h2>
      <div class="sub">Find us on Google Maps.</div>
      <div class="map-wrap" style="margin-top:12px">
        <iframe
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps?q=1680%20E%20Broadway%20Suite%20E,%20Chula%20Vista,%20CA&output=embed">
        </iframe>
      </div>
    </div>

    <!-- Contact -->
    <div class="section" id="contact">
      <h2>Contact</h2>
      <div class="card">
        <div class="sub">
          Phone: <b>(619) 754-0193</b><br/>
          Address: <b>1680 E Broadway Suite E, Chula Vista, CA</b><br/>
          Live chat: bottom-right chat widget
        </div>
        <div class="row">
          <a class="btn green" href="tel:+16197540193">üìû Call</a>
          <a class="btn blue" href="sms:+16197540193">üí¨ SMS</a>
          <!-- Open Site (GitHub Pages) -->
          <a class="btn ghost" id="openSiteBtn" href="https://jjie168.github.io/pet-grooming-site/" target="_blank" rel="noopener">üåê Open Site</a>
        </div>
      </div>
      <div class="small" style="margin-top:10px;opacity:.8">¬© <span id="year"></span> Red Dolphin Pet Grooming</div>
    </div>
  </div>

  <!-- Floating buttons -->
  <div class="fab">
    <a href="tel:+16197540193">üìû Call</a>
    <a href="sms:+16197540193?&body=Hi%20I%20would%20like%20to%20book%20pet%20grooming.">üí¨ SMS</a>
  </div>

  <script>
    // ===== PRICES =====
    const bathBrush = [
      { weight:"1-15 lbs",  p1:50,  p2:55,  p3:60 },
      { weight:"16-35 lbs", p1:55,  p2:60,  p3:70 },
      { weight:"36-50 lbs", p1:70,  p2:75,  p3:85 },
      { weight:"51-75 lbs", p1:80,  p2:85,  p3:90 },
      { weight:"76-100 lbs",p1:90,  p2:95,  p3:"120+" }
    ];
    const bathCats = { p1:85, p2:90, p3:95 };

    const fullGroom = [
      { weight:"1-15 lbs",  p1:70,  p2:75,  p3:85 },
      { weight:"16-35 lbs", p1:80,  p2:85,  p3:95 },
      { weight:"36-50 lbs", p1:95,  p2:105, p3:130 },
      { weight:"51-75 lbs", p1:115, p2:135, p3:160 },
      { weight:"76-100 lbs",p1:135, p2:155, p3:190 }
    ];
    const fullCats = { p1:100, p2:120, p3:150 };

    function money(v){ return (typeof v === "number") ? `$${v}` : `$${v}`; }

    function priceCell(service, pet, weight, coat, price){
      const safePrice = (typeof price === "number") ? `$${price}` : `$${price}`;
      return `
        <div class="price-cell">
          <span class="price">${safePrice}</span>
          <button class="book-mini" type="button"
            onclick="pickPrice('${service}','${pet}','${weight}','${coat}','${safePrice}')">
            Book
          </button>
        </div>
      `;
    }

    function renderTable(tbodyId, rows, serviceName, catsRow){
      const tbody = document.getElementById(tbodyId);
      tbody.innerHTML = "";

      rows.forEach(r=>{
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td><b>${r.weight}</b></td>
          <td>${priceCell(serviceName,'Dog',r.weight,'< 1/2 inch',r.p1)}</td>
          <td>${priceCell(serviceName,'Dog',r.weight,'< 1/2 inch+',r.p2)}</td>
          <td>${priceCell(serviceName,'Dog',r.weight,'1 inch+',r.p3)}</td>
        `;
        tbody.appendChild(tr);
      });

      // Cats row
      const trc = document.createElement("tr");
      trc.innerHTML = `
        <td><b>Cats</b></td>
        <td>${priceCell(serviceName,'Cat','Cat','< 1/2 inch',catsRow.p1)}</td>
        <td>${priceCell(serviceName,'Cat','Cat','< 1/2 inch+',catsRow.p2)}</td>
        <td>${priceCell(serviceName,'Cat','Cat','1 inch+',catsRow.p3)}</td>
      `;
      tbody.appendChild(trc);
    }

    function pickPrice(service, pet, weight, coat, priceText){
      document.getElementById("pet").value = pet;
      document.getElementById("service").value = service;
      document.getElementById("weight").value = weight;
      document.getElementById("coat").value = coat;
      document.getElementById("price").value = priceText;
      scrollToId("book");
    }

    function scrollToId(id){
      document.getElementById(id).scrollIntoView({behavior:"smooth", block:"start"});
    }

    function clearForm(){
      ["name","phone","service","weight","coat","price","date","time","note"].forEach(id=>document.getElementById(id).value="");
      document.getElementById("pet").value="Dog";
    }

    // ===== BOOKING: SMS + Tawk message =====
    function buildBookingMessage(){
      const name  = (document.getElementById("name").value || "").trim();
      const phone = (document.getElementById("phone").value || "").trim();
      const pet   = document.getElementById("pet").value;
      const svc   = (document.getElementById("service").value || "").trim();
      const w     = (document.getElementById("weight").value || "").trim();
      const coat  = (document.getElementById("coat").value || "").trim();
      const price = (document.getElementById("price").value || "").trim();
      const date  = document.getElementById("date").value || "";
      const time  = document.getElementById("time").value || "";
      const note  = (document.getElementById("note").value || "").trim();

      return [
        "Pet Grooming Booking",
        `Name: ${name || "N/A"}`,
        `Phone: ${phone || "N/A"}`,
        `Pet: ${pet}`,
        `Service: ${svc || "N/A"}`,
        `Weight/Size: ${w || "N/A"}`,
        `Coat: ${coat || "N/A"}`,
        `Price: ${price || "N/A"}`,
        `Date: ${date || "N/A"}`,
        `Time: ${time || "N/A"}`,
        `Notes: ${note || "N/A"}`
      ].join("\n");
    }

    function sendToTawk(message){
      try{
        if (window.Tawk_API && typeof window.Tawk_API.setAttributes === "function") {
          window.Tawk_API.setAttributes(
            { name: document.getElementById("name").value || "Booking", phone: document.getElementById("phone").value || "" },
            function(){}
          );
        }
        if (window.Tawk_API && typeof window.Tawk_API.sendMessage === "function") {
          window.Tawk_API.sendMessage(message);
          return true;
        }
      }catch(e){}
      return false;
    }

    function sendBooking(){
      const msg = buildBookingMessage();

      // send to Tawk (retry if not ready)
      let ok = sendToTawk(msg);
      if(!ok){
        let tries = 0;
        const timer = setInterval(()=>{
          tries++;
          if(sendToTawk(msg) || tries>=10) clearInterval(timer);
        }, 600);
      }

      // open SMS
      window.location.href = `sms:+16197540193?&body=${encodeURIComponent(msg)}`;
    }

    // init
    document.getElementById("year").textContent = new Date().getFullYear();
    renderTable("bathTable", bathBrush, "Bath & Brush", bathCats);
    renderTable("fullTable", fullGroom, "Full Grooming", fullCats);

    // If opened locally (file://), Open Site still works; no special handling needed.
  </script>

  <!-- Tawk.to Live Chat -->
  <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
      var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
      s1.async=true;
      s1.src='https://embed.tawk.to/698917279842801c33e38579/1jgvo4shb';
      s1.charset='UTF-8';
      s1.setAttribute('crossorigin','*');
      s0.parentNode.insertBefore(s1,s0);
    })();
  </script>
</body>
</html>
